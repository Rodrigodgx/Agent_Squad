```markdown
# Melhorar a Visibilidade do Mapa Tático no Canvas

## Resumo da Tarefa

Esta tarefa visa melhorar a visibilidade do mapa tático no canvas da aplicação, garantindo que ele seja totalmente visível, permitindo interação total (zoom e pan), e otimizando a área de exibição para facilitar o planejamento estratégico.

A implementação envolve modificações no HTML, CSS e JavaScript para ajustar o layout, o comportamento do canvas e garantir a adaptação a diferentes resoluções de tela.

## Histórico de Alterações

- **Data:** 2025-06-16 20:34:01
  **Agente:** Front_agent
  **Descrição:** Melhorar a Visibilidade do Mapa Tático no Canvas
  **Detalhes:**
    - **História de Usuário:**
        Como um Estrategista,
        Eu quero que o mapa tático no canvas seja totalmente visível,
        Para que eu possa planejar e elaborar táticas de forma eficaz e sem impedimentos.
    - **Porquê:**
        Atualmente, parte do mapa tático pode estar obscurecida ou não totalmente visível devido a elementos da interface ou limitações de espaço. Isso dificulta a visualização completa do cenário estratégico e impacta negativamente a qualidade do planejamento tático. Ao garantir a visibilidade completa do mapa, capacitamos os estrategistas a tomar decisões mais informadas e elaborar planos mais robustos.
    - **Critérios de Aceite:**
        *   [ ] O mapa tático é totalmente visível no canvas, sem partes ocultas ou obscurecidas por outros elementos da interface.
        *   [ ] O usuário consegue interagir com todos os elementos do mapa tático (ex: zoom, pan) sem perder a visibilidade da totalidade do mapa.
        *   [ ] A área do canvas dedicada ao mapa tático é otimizada para exibir o mapa em seu tamanho ideal para planejamento.
        *   [ ] A visibilidade do mapa é consistente em diferentes resoluções de tela e dispositivos.
    - **Plano de Implementação Técnica:**
        **Objetivo:** Garantir a visibilidade completa do mapa tático no canvas, permitindo interação total e otimizando a área de exibição.

        **1. Análise do Problema:**

        *   O problema atual é que parte do mapa pode estar obscurecida ou não totalmente visível devido a elementos da interface ou limitações de espaço.
        *   É necessário otimizar o uso do espaço disponível no canvas para o mapa.
        *   É necessário garantir que o zoom e o pan funcionem sem perda de visibilidade da totalidade do mapa.
        *   É necessário adaptar a visualização a diferentes resoluções de tela.

        **2. Solução Proposta:**

        A solução consiste em ajustar o layout da aplicação para garantir que o canvas, e consequentemente o mapa, ocupe a maior parte do espaço disponível e ajustar o comportamento do canvas para acomodar o mapa tático.

        **3. Arquivos a serem modificados:**

        *   `style.css`
        *   `script.js`
        *   `index.html`

        **4. Implementação Detalhada:**

        **4.1. `index.html`:**

        *   Verificar a estrutura HTML para garantir que o canvas está dentro de um container que permite flexibilidade no layout.
        *   Considerar envolver o canvas em um elemento `div` especifico para o mapa, para facilitar o controle do layout.
            Exemplo:
            ```html
            <div id="map-container">
                <canvas id="planner-canvas"></canvas>
            </div>
            ```

        **4.2. `style.css`:**

        *   **`#app-container`:** Ajustar o `display: flex` para garantir que a barra lateral (`#left-bar`) e o container do mapa (`#map-container`) se adaptem ao tamanho da tela. Usar `flex-grow` para permitir que o container do mapa ocupe o espaço restante.
        *   **`#left-bar`:** Manter a largura fixa, se necessário, mas garantir que não cause overflow na tela.
        *   **`#map-container`:** Definir a altura como `100%` do `#app-container`. Usar `flex-grow: 1` para que ocupe todo o espaço disponível. Ajustar o padding e margens para otimizar o espaço.
        *   **`#planner-canvas`:** Definir a largura e altura do canvas como `100%` do `#map-container`.  Usar `object-fit: contain` para garantir que a imagem do mapa se ajuste ao tamanho do canvas sem distorção, mantendo a proporção original.

            Exemplo:
            ```css
            #app-container {
                display: flex;
                height: 100vh;
            }

            #left-bar {
                width: 240px;
                background-color: #1a1a1a;
                padding: 20px;
                border-right: 1px solid #333;
            }

            #map-container {
                flex-grow: 1;
                height: 100%;
                padding: 10px; /* Ajuste conforme necessário */
            }

            #planner-canvas {
                width: 100%;
                height: 100%;
                object-fit: contain; /* Garante que a imagem se ajuste ao canvas sem distorcer */
            }
            ```

        **4.3. `script.js`:**

        *   **Redimensionamento Dinâmico do Canvas:** Adicionar um event listener para o evento `resize` da janela. Dentro do event listener, redimensionar o canvas para que corresponda às dimensões do `#map-container`. Isso garante que o canvas se adapte a diferentes resoluções de tela e redimensionamentos da janela.  Redesenhar o mapa após o redimensionamento.
        *   **Zoom e Pan:** Melhorar a implementação existente de zoom e pan, garantindo que o usuário não perca a visibilidade do mapa ao interagir. Limitar os valores de zoom para evitar que o mapa fique muito pequeno ou grande.  Considerar o uso de bibliotecas externas para facilitar a implementação de zoom e pan, se necessário (ex: Panzoom).  Ao implementar zoom e pan, garantir que o usuário consiga "resetar" a visualização do mapa para o estado inicial.
        *   **Início:** Garantir que o mapa carregue corretamente e preencha o canvas ao iniciar.

        **5. Testes:**

        *   Testar em diferentes resoluções de tela (desktop e mobile).
        *   Testar a funcionalidade de zoom e pan para garantir que funciona corretamente e que o mapa não seja obscurecido.
        *   Testar com diferentes mapas para garantir que o layout se adapta corretamente.

        **6. Considerações Adicionais:**

        *   A acessibilidade deve ser considerada. Garantir que usuários com deficiências visuais possam interagir com o mapa usando leitores de tela.
        *   O desempenho deve ser monitorado. Se o redimensionamento do canvas causar problemas de desempenho, considerar otimizar o código ou usar técnicas de renderização mais eficientes.

        #frontend
        #readytodev
```